{% extends "mobile_base.html" %}

{% block title %}Profile - MediTrack{% endblock %}

{% block content %}
<header class="app-header">
    <h1>Profile ðŸ‘¤</h1>
    <p>Your account information</p>
</header>

<div class="app-content">
    <!-- User Info -->
    <div class="card">
        <div style="text-align: center; padding: 1rem;">
            <div style="width: 80px; height: 80px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin: 0 auto 1rem;">
                {{ current_user.username[0].upper() }}
            </div>
            <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">{{ current_user.username }}</h2>
            <p style="color: var(--text-secondary);">Member since {{ current_user.created_at.strftime('%B %Y') }}</p>
        </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">ðŸ“‹</div>
            <div class="stat-value">{{ total_prescriptions }}</div>
            <div class="stat-label">Prescriptions</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ðŸ“±</div>
            <div class="stat-value">{{ total_devices }}</div>
            <div class="stat-label">Devices</div>
        </div>
    </div>

    <!-- Account Settings -->
    <div class="card">
        <h2 class="card-title mb-2">Account Settings</h2>
        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
            <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <div style="font-weight: 600;">Username</div>
                    <div style="font-size: 0.875rem; color: var(--text-secondary);">{{ current_user.username }}</div>
                </div>
                <button class="btn btn-sm btn-secondary">Edit</button>
            </div>
            <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <div style="font-weight: 600;">Email</div>
                    <div style="font-size: 0.875rem; color: var(--text-secondary);">
                        {{ current_user.email or 'Not set' }}
                    </div>
                </div>
                <button class="btn btn-sm btn-secondary">Edit</button>
            </div>
        </div>
    </div>

    <!-- App Settings -->
    <div class="card">
        <h2 class="card-title mb-2">App Settings</h2>
        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
            <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <div style="font-weight: 600;">Notifications</div>
                    <div style="font-size: 0.875rem; color: var(--text-secondary);">Get medication reminders</div>
                </div>
                <label style="position: relative; display: inline-block; width: 50px; height: 28px;">
                    <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                    <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--secondary-color); border-radius: 28px; transition: .4s;"></span>
                </label>
            </div>
            <div style="padding: 1rem; background: var(--bg-secondary); border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <div style="font-weight: 600;">Sound Alerts</div>
                    <div style="font-size: 0.875rem; color: var(--text-secondary);">Play sound for reminders</div>
                </div>
                <label style="position: relative; display: inline-block; width: 50px; height: 28px;">
                    <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;">
                    <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--secondary-color); border-radius: 28px; transition: .4s;"></span>
                </label>
            </div>
        </div>
    </div>

    <!-- About -->
    <div class="card">
        <h2 class="card-title mb-2">About MediTrack</h2>
        <p style="color: var(--text-secondary); line-height: 1.6;">
            MediTrack is an intelligent medication management system that uses AI to parse prescriptions and IoT devices to help you never miss a dose.
        </p>
        <p style="color: var(--text-secondary); margin-top: 1rem; font-size: 0.875rem;">
            Version 1.0.0
        </p>
    </div>

    <!-- Logout Button -->
    <div class="card">
        <a href="{{ url_for('main.logout') }}" class="btn btn-danger btn-block">
            ðŸšª Logout
        </a>
    </div>
</div>
{% endblock %}
